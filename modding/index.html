
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the jp-mining-note project.">
      
      
      
        <link rel="canonical" href="https://aquafina-water-bottle.github.io/jp-mining-note/modding/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.5.1">
    
    
      
        <title>Modding (TODO) - jp-mining-note</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2e8b5541.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introduction" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="jp-mining-note" class="md-header__button md-logo" aria-label="jp-mining-note" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            jp-mining-note
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Modding (TODO)
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Aquafina-water-bottle/jp-mining-note" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    jp-mining-note
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="jp-mining-note" class="md-nav__button md-logo" aria-label="jp-mining-note" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    jp-mining-note
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Aquafina-water-bottle/jp-mining-note" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    jp-mining-note
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Getting Started" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../preface/" class="md-nav__link">
        Preface
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../setup/" class="md-nav__link">
        Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../importing/" class="md-nav__link">
        Transfer Existing Notes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../updating/" class="md-nav__link">
        Updating
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/" class="md-nav__link">
        Usage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cardtypes/" class="md-nav__link">
        Card Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../yomichantemplates/" class="md-nav__link">
        Yomichan Template Options (TODO)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runtimeoptions/" class="md-nav__link">
        Runtime Options (TODO)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kanjihover/" class="md-nav__link">
        Kanji Hover
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../autopa/" class="md-nav__link">
        Auto Pitch Accent (TODO)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Developer Documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Developer Documentation" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Developer Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../building/" class="md-nav__link">
        Building (TODO)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../compileopts/" class="md-nav__link">
        Compile-Time Options (TODO)
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Modding (TODO)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Modding (TODO)
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modding-the-obvious-way" class="md-nav__link">
    Modding (The Obvious Way)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modding-overview" class="md-nav__link">
    Modding Overview
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-templates-overrides" class="md-nav__link">
    Custom Templates: Overrides
  </a>
  
    <nav class="md-nav" aria-label="Custom Templates: Overrides">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-overrides" class="md-nav__link">
    How-To (Overrides)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-add-external-links" class="md-nav__link">
    Example (Add external links)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-js-modules" class="md-nav__link">
    Custom JS: Modules
  </a>
  
    <nav class="md-nav" aria-label="Custom JS: Modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-hello-world" class="md-nav__link">
    Example (Hello World)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-modules" class="md-nav__link">
    How-To (Modules)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-not-just-separate-the-code-with-files" class="md-nav__link">
    Why not just separate the code with files?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-css" class="md-nav__link">
    Custom CSS
  </a>
  
    <nav class="md-nav" aria-label="Custom CSS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-custom-css" class="md-nav__link">
    How-To (Custom CSS)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-zoom" class="md-nav__link">
    Example (Zoom)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#field-editing" class="md-nav__link">
    Field Editing
  </a>
  
    <nav class="md-nav" aria-label="Field Editing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installer-details" class="md-nav__link">
    Installer details
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#do-not-remove-or-rename-fields" class="md-nav__link">
    Do not remove or rename fields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-add-reorder-fields" class="md-nav__link">
    How to add &amp; reorder fields
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other" class="md-nav__link">
    Other
  </a>
  
    <nav class="md-nav" aria-label="Other">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#javascript-print-statements" class="md-nav__link">
    Javascript print statements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoid-asynchronous-javascript-features-in-anki" class="md-nav__link">
    Avoid asynchronous javascript features in Anki
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#make-your-changes-shown" class="md-nav__link">
    Make your changes shown!
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contributing" class="md-nav__link">
    Contributing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Other
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Other" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Other
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        FAQ & Troubleshooting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../jpresources/" class="md-nav__link">
        Various Resources
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modding-the-obvious-way" class="md-nav__link">
    Modding (The Obvious Way)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modding-overview" class="md-nav__link">
    Modding Overview
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-templates-overrides" class="md-nav__link">
    Custom Templates: Overrides
  </a>
  
    <nav class="md-nav" aria-label="Custom Templates: Overrides">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-overrides" class="md-nav__link">
    How-To (Overrides)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-add-external-links" class="md-nav__link">
    Example (Add external links)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-js-modules" class="md-nav__link">
    Custom JS: Modules
  </a>
  
    <nav class="md-nav" aria-label="Custom JS: Modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-hello-world" class="md-nav__link">
    Example (Hello World)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-modules" class="md-nav__link">
    How-To (Modules)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-not-just-separate-the-code-with-files" class="md-nav__link">
    Why not just separate the code with files?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-css" class="md-nav__link">
    Custom CSS
  </a>
  
    <nav class="md-nav" aria-label="Custom CSS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-custom-css" class="md-nav__link">
    How-To (Custom CSS)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-zoom" class="md-nav__link">
    Example (Zoom)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#field-editing" class="md-nav__link">
    Field Editing
  </a>
  
    <nav class="md-nav" aria-label="Field Editing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installer-details" class="md-nav__link">
    Installer details
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#do-not-remove-or-rename-fields" class="md-nav__link">
    Do not remove or rename fields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-add-reorder-fields" class="md-nav__link">
    How to add &amp; reorder fields
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other" class="md-nav__link">
    Other
  </a>
  
    <nav class="md-nav" aria-label="Other">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#javascript-print-statements" class="md-nav__link">
    Javascript print statements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoid-asynchronous-javascript-features-in-anki" class="md-nav__link">
    Avoid asynchronous javascript features in Anki
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#make-your-changes-shown" class="md-nav__link">
    Make your changes shown!
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contributing" class="md-nav__link">
    Contributing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
<!-- Removes the edit button and replaces it with a view button -->

  
  
  <a
    href="https://raw.githubusercontent.com/Aquafina-water-bottle/jp-mining-note/master/docs/docs/modding.md"
    title="View source of this page"
    class="md-content__button md-icon"
  >
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg>
  </a>


  <h1>Modding (TODO)</h1>

<!--
If you are looking to simply install the card, see the appropriate
wiki page here (TODO link to setup).
-->

<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<p>This page describes all the ways of modding your note,
and goes into depth on the ways you can mod your note
<strong>without losing your changes</strong> between updates.</p>
<h3 id="modding-the-obvious-way">Modding (The Obvious Way)<a class="headerlink" href="#modding-the-obvious-way" title="Permanent link">&para;</a></h3>
<p>Throughout the documentation and within the templates alone, you will likely
see warning messages to not edit the templates directly unless you are willing
to lose your changes when you update the note.</p>
<p>The most obvious way to mod the note is directly in the pre-built template downloaded.
If you are completely fine with losing your changes upon each update,
and don't want to take advantages of certain tools that comes with this note
(such as compile-time options),
then you can simply edit the template and ignore the rest of this page.</p>
<h3 id="modding-overview">Modding Overview<a class="headerlink" href="#modding-overview" title="Permanent link">&para;</a></h3>
<p>To ensure that your changes aren't lost, new files</p>
<p>TODO is this even necessary?</p>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h2>
<p>You must be able to successfully build the template
in order to start modding the note.
See the <a href="../building/">build page</a> for more details.</p>
<p>Additionally, it is recommended that you go through the
<a href="../compileopts/">compile-time options</a> section in the build page after your first successful build,
as it may contain what you are looking for.</p>
<!--
## Extra Javascript & CSS
- primarily for testing, not for production use
- appends whatever javascript you want to the very end of the anonymous function
-->

<h2 id="custom-templates-overrides">Custom Templates: Overrides<a class="headerlink" href="#custom-templates-overrides" title="Permanent link">&para;</a></h2>
<ul>
<li><code>overrides</code> folder (or whatever folder you specify under <code>templates-override-folder</code> in config.py)</li>
<li>same format as existing <code>src</code> folder</li>
<li>primarily to override html</li>
<li>see the <a href="./#custom-js-modules">modules</a> section on the recommended way to add custom javascript</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li>no guaranteed backwards compatability (especially while the note is still in beta)</li>
<li>although you won't lose your changes upon update, your changes might also not work on the next update</li>
<li>example: if the layout of the file changes at all, i.e. a css class gets renamed,
    and you are still using the old class name after the update, it may not behave as expected</li>
</ul>
</div>
<h3 id="how-to-overrides">How-To (Overrides)<a class="headerlink" href="#how-to-overrides" title="Permanent link">&para;</a></h3>
<p>TODO</p>
<h3 id="example-add-external-links">Example (Add external links)<a class="headerlink" href="#example-add-external-links" title="Permanent link">&para;</a></h3>
<p>Let's say we want to rewrite the <code>Extra Info</code> section to have external links that search
for the tested word.</p>
<ol>
<li>
<p><strong>Look for the partial</strong> within the <code>src</code> folder. <br>
    This leads us to the <code>src/jp-mining-note/partials/extra_info.html</code> file.</p>
</li>
<li>
<p><strong>Override the partial</strong>. <br>
    Now that we know the location of the partial, we create the same file in <code>overrides</code>.
    This new file should be of the path
    <code>overrides/jp-mining-note/partials/extra_info.html</code>.</p>
</li>
<li>
<p><strong>Write the code</strong>. <br>
    Using the partial under <code>src</code> as an example, the following code is
    a modified version of the original HTML where we removed the dependency
    on the <code>PAGraphs</code> and <code>UtilityDictionaries</code> fields.
    Additionally, at the very bottom, a link to Jisho and Yourei is provided.</p>
<p>Copy and paste the code below to your newly created file
(<code>overrides/jp-mining-note/partials/extra_info.html</code>).</p>
<details class="quote">
<summary>Extra Info with External Links</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="p">&lt;</span><span class="nt">details</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;glossary-details glossary-details--small&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;extra_info_details&quot;</span><span class="p">&gt;</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="p">&lt;</span><span class="nt">summary</span><span class="p">&gt;</span>Extra Info<span class="p">&lt;/</span><span class="nt">summary</span><span class="p">&gt;</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="p">&lt;</span><span class="nt">blockquote</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;glossary-blockquote glossary-blockquote--small highlight-bold&quot;</span><span class="p">&gt;</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;glossary-text glossary-text--extra-info&quot;</span><span class="p">&gt;</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="cp">{%</span> <span class="k">call</span> <span class="nv">IF</span><span class="o">(</span><span class="s2">&quot;PAGraphs&quot;</span><span class="o">)</span> <span class="cp">%}</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;pa-graphs&quot;</span><span class="p">&gt;</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>        <span class="cp">{{</span> <span class="nv">T</span><span class="o">(</span><span class="s2">&quot;PAGraphs&quot;</span><span class="o">)</span> <span class="cp">}}</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>    <span class="cp">{%</span> <span class="k">endcall</span> <span class="cp">%}</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>    <span class="cp">{%</span> <span class="k">call</span> <span class="nv">IF</span><span class="o">(</span><span class="s2">&quot;UtilityDictionaries&quot;</span><span class="o">)</span> <span class="cp">%}</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;utility-dicts&quot;</span><span class="p">&gt;</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>        <span class="cp">{{</span> <span class="nv">T</span><span class="o">(</span><span class="s2">&quot;UtilityDictionaries&quot;</span><span class="o">)</span> <span class="cp">}}</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>    <span class="cp">{%</span> <span class="k">endcall</span> <span class="cp">%}</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>    <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://jisho.org/search/</span><span class="cp">{{</span> <span class="nv">T</span><span class="o">(</span><span class="s1">&#39;Word&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="p">&gt;</span>辞書<span class="p">&lt;/</span><span class="nt">a</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>    <span class="p">&gt;</span>・<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;http://yourei.jp/</span><span class="cp">{{</span> <span class="nv">T</span><span class="o">(</span><span class="s1">&#39;Word&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="p">&gt;</span>用例<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="p">&lt;/</span><span class="nt">blockquote</span><span class="p">&gt;</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a><span class="p">&lt;/</span><span class="nt">details</span><span class="p">&gt;</span>
</code></pre></div>
</details>
</li>
<li>
<p><strong>Rebuild and reinstall the template</strong>. <br>
    After rebuilding and reinstalling, your <code>Extra Info</code> section should now have two links
    at the bottom.</p>
</li>
</ol>
<h2 id="custom-js-modules">Custom JS: Modules<a class="headerlink" href="#custom-js-modules" title="Permanent link">&para;</a></h2>
<ul>
<li>TODO basic explanation</li>
<li>primary use is for javascript (and currently only used for javascript)</li>
<li>javascript-only modules do not require any edits to the raw html</li>
<li>some modules may still have to edit the raw html -&gt; cannot update the note<ul>
<li>recommend using template overrides</li>
</ul>
</li>
<li>uses runtime options</li>
</ul>
<h3 id="example-hello-world">Example (Hello World)<a class="headerlink" href="#example-hello-world" title="Permanent link">&para;</a></h3>
<p>It would be easiest to show an example first, before diving into the how-to.</p>
<p>The following will enable a the hello world module,
which prints a "Hello world!" at the front of any card
(as a warning on the <a href="../usage/#info-circle">info circle</a>).</p>
<p><code>config.py</code>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>&quot;compile-options&quot;: {
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>    &quot;allow-user-defined-modules&quot;: True,
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>    &quot;enabled-modules&quot;: [
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>        ...
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>        &quot;example&quot;
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>    ]
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>},
</code></pre></div></p>
<p>runtime options file (<code>jpmn_opts.jsonc</code>):
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>...
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>&quot;modules&quot;: {
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>  ...
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>  &quot;example&quot;: {
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>    &quot;enabled&quot;: true
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>  }
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>}
</code></pre></div></p>
<h3 id="how-to-modules">How-To (Modules)<a class="headerlink" href="#how-to-modules" title="Permanent link">&para;</a></h3>
<ul>
<li>modules can be defined in the same style as the template overrides above<ul>
<li>module files can even be completely overwritten if you define the same file</li>
</ul>
</li>
<li>
<p>define modules in the overrides folder</p>
</li>
<li>
<p>quickstart: copy the <code>example</code> module into <code>overrides/modules</code></p>
<ul>
<li>result should have the two files:<ul>
<li><code>overrides/modules/example/main.html</code></li>
<li><code>overrides/modules/example/main.js</code></li>
</ul>
</li>
<li>all you have to do now is edit the <code>main.js</code> and <code>main.html</code> files to your liking</li>
<li>these files will overwrite the previous example</li>
</ul>
</li>
<li>
<p>when renaming:</p>
<ul>
<li>do your best to keep the naming consistent with everything else</li>
<li>make sure you enable them in the config and runtime options</li>
</ul>
</li>
</ul>
<h3 id="why-not-just-separate-the-code-with-files">Why not just separate the code with files?<a class="headerlink" href="#why-not-just-separate-the-code-with-files" title="Permanent link">&para;</a></h3>
<p><strong>Short answer</strong>: <br>
In an attempt to keep the card as stable as possible between versions.</p>
<p><strong>Long answer</strong>: <br>
Anki specifically states this in its
<a href="https://docs.ankiweb.net/templates/styling.html?highlight=javascript#javascript">official documentation</a>:</p>
<div class="admonition quote">
<p class="admonition-title">Quote</p>
<p>Javascript functionality is provided without any support or warranty</p>
</div>
<p>Many javascript-related things seem to behave strangely in Anki, which prevents the ability
to separate files easily.
Here have been the solutions I have tried before moving to this approach:</p>
<details class="quote">
<summary>Link an external script with the <code>&lt;script&gt;</code> tag</summary>
<p>There are two main problems with this approach:</p>
<ol>
<li>
<p>On older Anki versions (2.1.49 and below), all <code>&lt;script&gt;</code> tags loads asynchronously
    compared to each other.</p>
<p>This means if any file must be ran before a file is loaded, then the script would fail.</p>
<p>On versions 2.1.50 and above, it appears that Anki loads <code>&lt;script&gt;</code> tags synchronously.
However, there is no guarantee that this will be the case for the future.</p>
</li>
<li>
<p>Certain javascript in the main template has to be ran before loading in any file.</p>
<p>This requirement exists for this note type due to the runtime-options file exists.
The global <code>JPMNOpts</code> has to exist for any external files that uses runtime options to work.</p>
<p>This can be fixed by importing the options separately for each file, but that naturally
leads us to the examples shown in the following section.</p>
</li>
</ol>
</details>
<details class="quote">
<summary>Regular imports within Javascript</summary>
<p>All other examples of importing without a separate <code>&lt;script src="..."&gt;</code>
requires asynchronous javascript features, which should be
<a href="./#avoid-asynchronous-javascript-features-in-anki">avoided</a>
as much as possible.</p>
<p>Examples:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span><span class="w"></span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">  </span><span class="c1">// https://forums.ankiweb.net/t/linking-to-external-javascript/1713</span><span class="w"></span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">injectScript</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">src</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span><span class="w"> </span><span class="nx">reject</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// a Promise is an asynchronous feature!</span><span class="w"></span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">script</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;script&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">      </span><span class="nx">script</span><span class="p">.</span><span class="nx">src</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">src</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">      </span><span class="nx">script</span><span class="p">.</span><span class="k">async</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="w">      </span><span class="nx">script</span><span class="p">.</span><span class="nx">onload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">resolve</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="w">      </span><span class="nx">script</span><span class="p">.</span><span class="nx">onerror</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">reject</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="w">      </span><span class="nb">document</span><span class="p">.</span><span class="nx">head</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">script</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="w">  </span><span class="p">});</span><span class="w"></span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="w">  </span><span class="c1">// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/import</span><span class="w"></span>
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="w">  </span><span class="c1">// this import function is an asynchronous function!</span><span class="w"></span>
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="w">  </span><span class="p">(</span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="k">import</span><span class="p">(</span><span class="s2">&quot;/modules/my-module.js&quot;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a><span class="w">    </span><span class="c1">// ...</span><span class="w"></span>
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a><span class="w">  </span><span class="p">})();</span><span class="w"></span>
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>
<a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a>
<a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a><span class="cm">&lt;!-- type=&quot;module&quot; forces this entire script to run asynchronously! --&gt;</span>
<a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;module&quot;</span><span class="p">&gt;</span><span class="w"></span>
<a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a>
<a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a><span class="w">  </span><span class="c1">// for the `import` statement to work, the script must be of type=&quot;module&quot;</span><span class="w"></span>
<a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a><span class="w">  </span><span class="c1">// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import</span><span class="w"></span>
<a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">export1</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;module-name&quot;</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a>
<a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
</details>
<p>In conclusion, this is a design decision made after lots of trial and error when attempting
to work with Anki's Javascript parser.</p>
<p>I believe this is the best way to ensure that the note stays resilient across Anki updates,
as the javascript itself has very few hacks to get it to behave well.</p>
<h2 id="custom-css">Custom CSS<a class="headerlink" href="#custom-css" title="Permanent link">&para;</a></h2>
<ul>
<li>allows for custom themes / complete user customization</li>
<li>can override variables, etc.</li>
<li>simply appends the css at the very end of the existing css</li>
</ul>
<h3 id="how-to-custom-css">How-To (Custom CSS)<a class="headerlink" href="#how-to-custom-css" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>make new folder under <code>src/scss</code> (e.g. <code>extra</code>) and add to <code>css-folders</code> in config.py, e.g.
    <div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>&quot;css-folders&quot;: [&quot;base&quot;, &quot;dictionaries&quot;, &quot;extra&quot;],
</code></pre></div></p>
</li>
<li>
<p>folder should be of the format:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>src
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a> L scss
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>    L base
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>       L ...
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>    L dictionaries
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>       L ...
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>    L extra
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>       L field.scss
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>       L editor.scss
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>       L style.scss
</code></pre></div></p>
<ul>
<li>all files are optional: only create and use the ones you need</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unlike everything else here, custom CSS cannot be defined in the <code>overrides</code> folder.
I will be working on a way to define it in the <code>overrides</code> folder in the future.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Yes, this is the SCSS, not CSS. However, SCSS is almost a complete superset of CSS.
In other words, if you don't know any SCSS, you can write normal CSS
and have it behave completely the same.</p>
</div>
<ul>
<li>many existing variables can be overwritten (see <code>templates/scss/base/common.scss</code>)</li>
</ul>
<h3 id="example-zoom">Example (Zoom)<a class="headerlink" href="#example-zoom" title="Permanent link">&para;</a></h3>
<p>Let's say we want to increase the size of the card, without affecting any of Anki's GUI.</p>
<ol>
<li>
<p>Create a folder called <code>extra</code>, like above.</p>
</li>
<li>
<p>Create a <code>style.scss</code> file under <code>extra</code>.</p>
</li>
<li>
<p>Add the following code to the <code>field.scss</code> file:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>:root {
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>  /* Times 1.1 of the original size.
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>   * If you want to make the note smaller, use a value like 0.9.
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>   */
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>  --zoom: 1.1;
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>}
</code></pre></div>
</li>
<li>
<p>Under <code>config.py</code>, set the <code>css-folders</code> option:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>&quot;css-folders&quot;: [&quot;base&quot;, &quot;dictionaries&quot;, &quot;extra&quot;],
</code></pre></div></p>
</li>
<li>
<p>Rebuild and reinstall the template.</p>
</li>
</ol>
<h2 id="field-editing">Field Editing<a class="headerlink" href="#field-editing" title="Permanent link">&para;</a></h2>
<p>This section describes import PSAs on what you should you if you want to
edit the fields of the note (i.e. adding, removing, renaming, and moving).</p>
<p>Fields editing in this context refers to the fields that you can edit
in the <code>Fields</code> (list) menu, found under (Main window) →  <code>Browse</code> →  <code>Fields...</code>.</p>
<figure>
<p><a href="../assets/anki/fields_window.png"><img alt="anki field window" src="../assets/anki/fields_window.png" /></a></p>
</figure>
<h3 id="installer-details">Installer details<a class="headerlink" href="#installer-details" title="Permanent link">&para;</a></h3>
<ul>
<li>TODO updating section -&gt; re-state some stuff</li>
</ul>
<h3 id="do-not-remove-or-rename-fields">Do not remove or rename fields<a class="headerlink" href="#do-not-remove-or-rename-fields" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>do not remove fields!</p>
<ul>
<li>even if compiling them out with always-filled/never-filled fields (below)</li>
<li>to move out of you way, move them below <code>Comment</code> and run <code>install.py</code> with <code>--ignore-order</code> flag on further updates</li>
<li>install script requires all expected fields to be present (you no longer cannot update if you remove a field)<ul>
<li>simply re-add the field if you removed it before</li>
</ul>
</li>
<li>is a design choice made by the updating script to make it easier to update the note</li>
<li>this rule may be removed in the future, but it will be kept strict for now to make the dev's life easier</li>
</ul>
</li>
<li>
<p>do not rename fields</p>
<ul>
<li>similarily to the above, so the updater knows what fields already exist</li>
</ul>
</li>
</ul>
<h3 id="how-to-add-reorder-fields">How to add &amp; reorder fields<a class="headerlink" href="#how-to-add-reorder-fields" title="Permanent link">&para;</a></h3>
<ul>
<li>if wanting to add field: recommend to add below <code>Comment</code> field to seemlessly update<ul>
<li>if field added above <code>Comment</code> and want to update, run <code>install.py</code> with <code>--ignore-order</code> flag</li>
</ul>
</li>
</ul>
<!--
- especially since your changes will likely edit the raw html
- contributing to the project + enabling the features on your system should guarantee that
  your additions aren't lost upon each update
-->

<!--
# Modding the Note

- runtime options
    - options in javascript
    - can implement certain features only with runtime options and no modules
    - TODO write this in a separate page

- what to use: modules / runtime options only
    - whichever you think is simpler to implement and to maintain
    - usually modules


## Where to add your feature?
- only care about this if you plan on contributing your feature btw
-->

<h2 id="other">Other<a class="headerlink" href="#other" title="Permanent link">&para;</a></h2>
<h3 id="javascript-print-statements">Javascript print statements<a class="headerlink" href="#javascript-print-statements" title="Permanent link">&para;</a></h3>
<p>Anki doesn't come with a way to use <code>console.log()</code> normally, so I made one myself.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1">// global logger</span><span class="w"></span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="nx">LOGGER</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="nx">LOGGER</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="nx">LOGGER</span><span class="p">.</span><span class="nx">info</span><span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="nx">LOGGER</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="c1">// module-specific logger</span><span class="w"></span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="kd">const</span><span class="w"> </span><span class="nx">logger</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">JPMNLogger</span><span class="p">(</span><span class="s2">&quot;module-name&quot;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="nx">logger</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="nx">logger</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="nx">logger</span><span class="p">.</span><span class="nx">info</span><span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="nx">logger</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>The above functions prints a message of the given log level to the info circle.
To see the message, hover over the info circle.</p>
<p>To use the <code>debug</code> function, make sure that the <code>debug</code> option is set to <code>true</code>
in the javascript options.</p>
<h3 id="avoid-asynchronous-javascript-features-in-anki">Avoid asynchronous javascript features in Anki<a class="headerlink" href="#avoid-asynchronous-javascript-features-in-anki" title="Permanent link">&para;</a></h3>
<details class="quote">
<summary>Example Asynchronous Javascript</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span><span class="w"></span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">  </span><span class="c1">// Example 1: normal asynchronous functions</span><span class="w"></span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">runMeAsynchronously</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">    </span><span class="c1">// ...</span><span class="w"></span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">  </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="w">  </span><span class="c1">// Example 2: promises</span><span class="w"></span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">giveMeAPromise</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span><span class="w"> </span><span class="nx">reject</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="w">      </span><span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="w">        </span><span class="nx">resolve</span><span class="p">(</span><span class="s2">&quot;Success!&quot;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="w">      </span><span class="p">},</span><span class="w"> </span><span class="mf">1000</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="w">    </span><span class="p">});</span><span class="w"></span>
<a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="w">  </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a>
<a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="w">  </span><span class="nx">giveMeAPromise</span><span class="p">().</span><span class="nx">then</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="w">    </span><span class="nx">LOGGER</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="s2">&quot;The promise is complete!&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">unique</span><span class="o">=</span><span class="kc">false</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a><span class="w">  </span><span class="p">});</span><span class="w"></span>
<a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a>
<a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a>
<a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a><span class="cm">&lt;!-- Example 3: anything wrapped in type=&quot;module&quot; --&gt;</span>
<a id="__codelineno-9-24" name="__codelineno-9-24" href="#__codelineno-9-24"></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;module&quot;</span><span class="p">&gt;</span><span class="w"></span>
<a id="__codelineno-9-25" name="__codelineno-9-25" href="#__codelineno-9-25"></a><span class="w">  </span><span class="c1">// everything here is run asynchronously</span><span class="w"></span>
<a id="__codelineno-9-26" name="__codelineno-9-26" href="#__codelineno-9-26"></a><span class="w">  </span><span class="c1">// ...</span><span class="w"></span>
<a id="__codelineno-9-27" name="__codelineno-9-27" href="#__codelineno-9-27"></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
</details>
<p>TODO reason:</p>
<ul>
<li>functions can be executed multiple times</li>
<li>reproducible way: use example 2 on both the front/back side of the card, and switch sides quickly<ul>
<li>should be two warnings</li>
</ul>
</li>
<li>
<p>but worst case is for cases which I don't know how to reproduce</p>
<ul>
<li>rarely, asynchronous functions run more than once</li>
<li>including the async functions defined currently in modules like <code>kanji-hover</code></li>
<li>to cirumvent having their actions done twice, define the affected elements outside the asynchronous section<ul>
<li>the function still runs twice (so any side-effects of the function will still happen)</li>
<li>however, other instances of the function should not work on the elements defined outside</li>
</ul>
</li>
</ul>
</li>
<li>
<p>avoiding asynchronous features makes things more predictable within anki</p>
</li>
</ul>
<details class="quote">
<summary>Example (safer) asynchronous javascript</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="kd">let</span><span class="w"> </span><span class="nx">ele</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;example&quot;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">runMeAsynchronously</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">  </span><span class="c1">// ...</span><span class="w"></span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">  </span><span class="nx">ele</span><span class="p">.</span><span class="nx">innerText</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s2">&quot;this should only appear once!&quot;</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="make-your-changes-shown">Make your changes shown!<a class="headerlink" href="#make-your-changes-shown" title="Permanent link">&para;</a></h3>
<p>If you think your changes will be useful for others,
I highly recommend contributing your work to this project!</p>
<p>TODO</p>
<h3 id="contributing">Contributing<a class="headerlink" href="#contributing" title="Permanent link">&para;</a></h3>
<p>TODO separate page</p>
<ul>
<li>
<p>before:</p>
<ul>
<li>I'm relatively new to people contributing to my work, so I'm not sure how to format this section</li>
<li>(As of writing this), I highly recommend you reach out before-hand so we can discuss the changes you want to make</li>
</ul>
</li>
<li>
<p>during:</p>
<ul>
<li>attempt to match style around the code</li>
</ul>
</li>
<li>
<p>final steps:</p>
<ul>
<li>use black to format all python files (TODO script)</li>
<li>make sure tests run (maybe CI at some point?)</li>
<li>update documentation (see docs/ folder) if necessary</li>
</ul>
</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1"># Build for release, if you want to contribute to the project</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>python3 ./make.py --release
</code></pre></div>
<!--
# Making an Issue
TODO

- prefer chats over issues (a lot easier / faster to get things done)

- if only specific cards OR modified version of note, please export + send
    - when in doubt, send it regardless ;)
- provide as much details as you can, including:
    - anki version
    - operating system
    - screenshots, if applicable
    - how to reproduce the behavior & expected behavior
- TODO issue.md template would be cool
-->

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">October 2, 2022</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      

    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "toc.follow", "header.autohide", "navigation.sections", "content.code.annotate"], "search": "../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.d691e9de.min.js"></script>
      
    
  </body>
</html>