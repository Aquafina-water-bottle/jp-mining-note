{{#SeparateClozeDeletionCard}}

<div class="card-description">
  Cloze Deletion
  <div class="card-description-ver">Mining Card: Version 0.1.0.0</div>
</div>


<!-- defaults to alt display -->
{{#AltDisplay}}
  <div class="expression expression--single bold-yellow" id="Display">{{furigana:AltDisplay}}</div>
{{/AltDisplay}}

{{^AltDisplay}}
  <div class="expression expression--single bold-yellow" id="Display">「{{Sentence}}」</div>
{{/AltDisplay}}

<script>
  // I tried figuring out a way to do this with CSS, but I can't find a non-hacky way of doing so.
  // Problem: if css is display:none, anything with :after is also not displayed
  // Only working css-only solution I found was by moving the text to -9999
  // - above is hacky because copy/pastes will still copy the text
  var d = document.getElementById("Display");
  d.innerHTML = d.innerHTML.replace(/<b>.*?<\/b>/g, "<b>[...]</b>");
</script>

{{^AltDisplay}}
  <script>
    sent = document.getElementById("Display");
    if (sent !== null) {
      /* processes the sentence (if there is no altdisplay)
       * - removes newlines
       * - finds the shortest possible sentence around the bolded characters
       */

      // removes linebreaks
      var temp = sent.innerHTML.replace(/<br>/g, "");

      // removes leading and trailing white space (equiv. of strip() in python)
      temp = temp.trim();

      // selects the smallest containing sentence
      //temp = selectSentence(temp);


      sent.innerHTML = temp;
    }
  </script>
{{/AltDisplay}}

{{#HintNotHidden}}
  <div class="center-box-1 hint">
    <div class="center-box-2">
      <div class="bold-yellow">{{HintNotHidden}}</div>
    </div>
  </div>
{{/HintNotHidden}}

<!-- https://stackoverflow.com/questions/1269589/css-center-block-but-align-contents-to-the-left -->
<!-- tl;dr wrap anything you want centered + left justified with center-box-1 and center-box-2 -->
{{#Hint}}
  <details class="hint">
    <summary>Hint</summary>
    <div class="center-box-1">
      <div class="center-box-2">
        <div class="bold-yellow">{{Hint}}</div>
      </div>
    </div>
  </details>
{{/Hint}}

<span id="audio-front">{{SentenceAudio}}</span>

{{/SeparateClozeDeletionCard}}