{# impl #}

{% for id, val in COMPILE_OPTIONS("external-links").dict().items() %}

  {% set hover_value = val["hover-display"] if "hover-display" in val else id %}
  <a data-details="{{ id }}" data-suppress-link-hover="true" href="{{ val["url"] }}" title="{{ hover_value }}">

  {% if val["icon-type"] == "image" %}
    <img data-do-not-convert="do-not-convert"
         class="show-on-light-mode-only"
         src="{{ val["icon-image-light"] }}">
    <img data-do-not-convert="do-not-convert"
         class="show-on-dark-mode-only"
         src="{{ val["icon-image-dark"] }}">
  {% else %}
    {# assumed == text #}
    {{ val["icon-text"] }}
  {% endif %}

  </a>

{% endfor %}

