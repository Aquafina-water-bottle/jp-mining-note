{# macros #}

{% from "macros/global.html" import T, IF, IFNOT, END with context %}

{% macro def_header(border_class="", word_pitch_class="") %}

<div class="def-header" id="def_header">

  <!-- everything on the left side -->
  {# border_class can be "dh-left--blue-border" #}
  <div class="dh-left {{ border_class }}" id="dh_left">

    <span class="dh-left__same-reading-indicator" id="same_reading_indicator">
      <span class="hover-wrapper">
        <span class="hover-text hover-text--same-reading" id="same_reading_hover_circle">
{% filter indent(6) %}
{% include "jp-mining-note/partials/info_circle_svg.html" %}
{% endfilter %}
        </span>
        <span class="hover-tooltip-wrapper hover-tooltip-wrapper--same-reading">
          <span class="hover-tooltip hover-tooltip--same-reading" id="same_reading_indicator_tooltip"> ... </span>
        </span>
      </span>
    </span>

    <div class="dh-left__reading" id="dh_reading"> {{ T("furigana:WordReading") }} </div>

    <div class="dh-left__word-pitch {{word_pitch_class}}" id="dh_word_pitch">
      {% call IF("PAOverride") %}
        {{ T('PAOverride') }}
      {% endcall %}
      {% call IFNOT("PAOverride") %}
        {{ T('AJTWordPitch') }}
      {% endcall %}
    </div>

    <div class="dh-left__audio-buttons">
      <span id="word-audio"> {{ T("WordAudio") }} </span>
      <span id="sentence-audio"> {{ T("SentenceAudio") }} </span>
    </div>

  </div>

  <!-- everything on the right side -->
  <!-- heavily nested elements:
    - stop-blur-edges: requires a div outside the regular blur to remove the blurred edges
    - nsfw-blur: `transition filter (of --clickable)` will affect the blur -> not blurred state
      - we don't want that
  -->
  <div class="dh-right {% call IF("Picture") %} dh-right--contains-image {% endcall %}" id="dh_right">
    <div class="dh-right__img-container-stop-blur-edges">
      <div class="dh-right__img-container-nsfw-blur" id="dh_img_container_nsfw_blur">
        <div class="dh-right__img-container dh-right__img-container--clickable" id="dh_img_container">{{ T("Picture") }}</div>
      </div>
      <svg class="dh-right__svg-eye" id="img_svg_eye" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5Z"/><title>Toggle blur temporarily</title></svg>
    </div>
  </div>

</div>

{% endmacro %}
