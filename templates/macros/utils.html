{# syntax looks weird to not screw up vim syntax highlighting... #}


{# NOTE: expects more than one argument #}
{# any_of("A", "B", "C") #}
{% macro any_of() %}
  {% for n in range(1, (2 ** (varargs|length))) %}
    {% for i in range(varargs|length) -%}
      {%- set mask = 1 | bitwise_shift_left(i) -%}
      {%- if mask | bitwise_and(n) -%}
        {{ "{" }}{{ "{" }}{{ "#" }}{{varargs[i]}}{{ "}" }}{{ "}" }}
      {%- else -%}
        {{ "{" }}{{ "{" }}{{ "^" }}{{varargs[i]}}{{ "}" }}{{ "}" }}
      {%- endif -%}
    {%- endfor -%}

    {{ caller() }}

    {%- for name in varargs|reverse -%}
      {{ "{" }}{{ "{" }}{{ "/" }}{{name}}{{ "}" }}{{ "}" }}
    {%- endfor -%}

  {%- endfor %}
{% endmacro %}



{# none_of("A", "B", "C") #}
{% macro none_of() %}
  {%- for name in varargs -%}
    {{ "{" }}{{ "{" }}{{ "^" }}{{name}}{{ "}" }}{{ "}" }}
  {%- endfor -%}

  {{ caller() }}

  {%- for name in varargs|reverse -%}
    {{ "{" }}{{ "{" }}{{ "/" }}{{name}}{{ "}" }}{{ "}" }}
  {%- endfor -%}
{% endmacro %}

